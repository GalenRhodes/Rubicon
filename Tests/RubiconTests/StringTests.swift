/*=============================================================================================================================================================================*//*
 *     PROJECT: Rubicon
 *    FILENAME: StringTests.swift
 *         IDE: AppCode
 *      AUTHOR: Galen Rhodes
 *        DATE: 5/6/21
 *
 * Copyright Â© 2021 Project Galen. All rights reserved.
 *
 * Permission to use, copy, modify, and distribute this software for any purpose with or without fee is hereby granted, provided that the above copyright notice and this
 * permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO
 * EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN
 * AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *//*============================================================================================================================================================================*/

import XCTest
import Foundation
import CoreFoundation
@testable import Rubicon

class StringTests: XCTestCase {

    let altRun: Bool = false

    typealias DataTuple = (data: Any, format: String, expected: String)

    enum TestError: Error { case ItemFailed(description: String) }

    override func setUp() {}

    override func tearDown() {}

    private func check(data: [DataTuple], lineNumber ln: Int, field: String? = nil) throws {
        var idx: Int = ln
        for d in data {
            let result = d.format.format(d.data)
            if altRun {
                print("            (\(field ?? String(describing: d.data)), \"\(d.format)\", \"\(result)\"),")
            }
            else {
                guard result == d.expected else { throw TestError.ItemFailed(description: "Line #\(idx): \"\(d.format)\".format(\(d.data)) ==> \"\(result)\" != \"\(d.expected)\"") }
            }
            idx += 1
        }
    }

    func testDateTimeFormat() {
        let dt: Date

        if altRun { dt = Date() }
        else { dt = Date(timeIntervalSince1970: 1620757791.557935953) }

        let sec:  Double         = dt.timeIntervalSince1970
        let nano: Int            = Int(sec * 1_000_000_000)
        let dc:   DateComponents = Calendar.current.dateComponents(in: TimeZone.current, from: dt)
        print("Time Interval Since 1970: %d.%09d".format(dc.secondsSinceEpoc, dc.nanosecond))

        // We not going to test the nanosecond field due to round-off error causing failed tests.
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (dt, "%ta", "Wed"),
            (dt, "%tA", "Wednesday"),
            (dt, "%tb", "Jun"),
            (dt, "%tB", "June"),
            (dt, "%tc", "Wed Jun 11 02:29:51 EDT 2021"),
            (dt, "%tC", "20"),
            (dt, "%td", "11"),
            (dt, "%tD", "05/11/21"),
            (dt, "%te", "11"),
            (dt, "%tF", "2021-05-11"),
            (dt, "%th", "Jun"),
            (dt, "%tH", "14"),
            (dt, "%tI", "02"),
            (dt, "%tj", "131"),
            (dt, "%tJ", "131"),
            (dt, "%tk", "14"),
            (dt, "%tl", "2"),
            (dt, "%tL", "557"),
            (dt, "%tm", "05"),
            (dt, "%tM", "29"),
            (dt, "%tp", "PM"),
            (dt, "%tQ", "1620757791557"),
            (dt, "%tr", "02:29:51 PM"),
            (dt, "%tR", "14:29"),
            (dt, "%ts", "1620757791"),
            (dt, "%tS", "51"),
            (dt, "%tT", "02:29:51"),
            (dt, "%ty", "21"),
            (dt, "%tY", "2021"),
            (dt, "%tz", "-0400"),
            (dt, "%tZ", "EDT"),
            (dt, "%Ta", "WED"),
            (dt, "%TA", "WEDNESDAY"),
            (dt, "%Tb", "JUN"),
            (dt, "%TB", "JUNE"),
            (dt, "%Tc", "WED JUN 11 02:29:51 EDT 2021"),
            (dt, "%TC", "20"),
            (dt, "%Td", "11"),
            (dt, "%TD", "05/11/21"),
            (dt, "%Te", "11"),
            (dt, "%TF", "2021-05-11"),
            (dt, "%Th", "JUN"),
            (dt, "%TH", "14"),
            (dt, "%TI", "02"),
            (dt, "%Tj", "131"),
            (dt, "%TJ", "131"),
            (dt, "%Tk", "14"),
            (dt, "%Tl", "2"),
            (dt, "%TL", "557"),
            (dt, "%Tm", "05"),
            (dt, "%TM", "29"),
            (dt, "%Tp", "PM"),
            (dt, "%TQ", "1620757791557"),
            (dt, "%Tr", "02:29:51 PM"),
            (dt, "%TR", "14:29"),
            (dt, "%Ts", "1620757791"),
            (dt, "%TS", "51"),
            (dt, "%TT", "02:29:51"),
            (dt, "%Ty", "21"),
            (dt, "%TY", "2021"),
            (dt, "%Tz", "-0400"),
            (dt, "%TZ", "EDT"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln, field: "dt") }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
        //@f:0
        let ln2: Int = (#line + 2)
        let data2: [DataTuple] = [
            (sec, "%ta", "Wed"),
            (sec, "%tA", "Wednesday"),
            (sec, "%tb", "Jun"),
            (sec, "%tB", "June"),
            (sec, "%tc", "Wed Jun 11 02:29:51 EDT 2021"),
            (sec, "%tC", "20"),
            (sec, "%td", "11"),
            (sec, "%tD", "05/11/21"),
            (sec, "%te", "11"),
            (sec, "%tF", "2021-05-11"),
            (sec, "%th", "Jun"),
            (sec, "%tH", "14"),
            (sec, "%tI", "02"),
            (sec, "%tj", "131"),
            (sec, "%tJ", "131"),
            (sec, "%tk", "14"),
            (sec, "%tl", "2"),
            (sec, "%tL", "557"),
            (sec, "%tm", "05"),
            (sec, "%tM", "29"),
            (sec, "%tp", "PM"),
            (sec, "%tQ", "1620757791557"),
            (sec, "%tr", "02:29:51 PM"),
            (sec, "%tR", "14:29"),
            (sec, "%ts", "1620757791"),
            (sec, "%tS", "51"),
            (sec, "%tT", "02:29:51"),
            (sec, "%ty", "21"),
            (sec, "%tY", "2021"),
            (sec, "%tz", "-0400"),
            (sec, "%tZ", "EDT"),
            (sec, "%Ta", "WED"),
            (sec, "%TA", "WEDNESDAY"),
            (sec, "%Tb", "JUN"),
            (sec, "%TB", "JUNE"),
            (sec, "%Tc", "WED JUN 11 02:29:51 EDT 2021"),
            (sec, "%TC", "20"),
            (sec, "%Td", "11"),
            (sec, "%TD", "05/11/21"),
            (sec, "%Te", "11"),
            (sec, "%TF", "2021-05-11"),
            (sec, "%Th", "JUN"),
            (sec, "%TH", "14"),
            (sec, "%TI", "02"),
            (sec, "%Tj", "131"),
            (sec, "%TJ", "131"),
            (sec, "%Tk", "14"),
            (sec, "%Tl", "2"),
            (sec, "%TL", "557"),
            (sec, "%Tm", "05"),
            (sec, "%TM", "29"),
            (sec, "%Tp", "PM"),
            (sec, "%TQ", "1620757791557"),
            (sec, "%Tr", "02:29:51 PM"),
            (sec, "%TR", "14:29"),
            (sec, "%Ts", "1620757791"),
            (sec, "%TS", "51"),
            (sec, "%TT", "02:29:51"),
            (sec, "%Ty", "21"),
            (sec, "%TY", "2021"),
            (sec, "%Tz", "-0400"),
            (sec, "%TZ", "EDT"),
        ]
        //@f:1
        do { try check(data: data2, lineNumber: ln2, field: "sec") }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
        //@f:0
        let ln3: Int = (#line + 2)
        let data3: [DataTuple] = [
            (nano, "%ta", "Wed"),
            (nano, "%tA", "Wednesday"),
            (nano, "%tb", "Jun"),
            (nano, "%tB", "June"),
            (nano, "%tc", "Wed Jun 11 02:29:51 EDT 2021"),
            (nano, "%tC", "20"),
            (nano, "%td", "11"),
            (nano, "%tD", "05/11/21"),
            (nano, "%te", "11"),
            (nano, "%tF", "2021-05-11"),
            (nano, "%th", "Jun"),
            (nano, "%tH", "14"),
            (nano, "%tI", "02"),
            (nano, "%tj", "131"),
            (nano, "%tJ", "131"),
            (nano, "%tk", "14"),
            (nano, "%tl", "2"),
            (nano, "%tL", "557"),
            (nano, "%tm", "05"),
            (nano, "%tM", "29"),
            (nano, "%tp", "PM"),
            (nano, "%tQ", "1620757791557"),
            (nano, "%tr", "02:29:51 PM"),
            (nano, "%tR", "14:29"),
            (nano, "%ts", "1620757791"),
            (nano, "%tS", "51"),
            (nano, "%tT", "02:29:51"),
            (nano, "%ty", "21"),
            (nano, "%tY", "2021"),
            (nano, "%tz", "-0400"),
            (nano, "%tZ", "EDT"),
            (nano, "%Ta", "WED"),
            (nano, "%TA", "WEDNESDAY"),
            (nano, "%Tb", "JUN"),
            (nano, "%TB", "JUNE"),
            (nano, "%Tc", "WED JUN 11 02:29:51 EDT 2021"),
            (nano, "%TC", "20"),
            (nano, "%Td", "11"),
            (nano, "%TD", "05/11/21"),
            (nano, "%Te", "11"),
            (nano, "%TF", "2021-05-11"),
            (nano, "%Th", "JUN"),
            (nano, "%TH", "14"),
            (nano, "%TI", "02"),
            (nano, "%Tj", "131"),
            (nano, "%TJ", "131"),
            (nano, "%Tk", "14"),
            (nano, "%Tl", "2"),
            (nano, "%TL", "557"),
            (nano, "%Tm", "05"),
            (nano, "%TM", "29"),
            (nano, "%Tp", "PM"),
            (nano, "%TQ", "1620757791557"),
            (nano, "%Tr", "02:29:51 PM"),
            (nano, "%TR", "14:29"),
            (nano, "%Ts", "1620757791"),
            (nano, "%TS", "51"),
            (nano, "%TT", "02:29:51"),
            (nano, "%Ty", "21"),
            (nano, "%TY", "2021"),
            (nano, "%Tz", "-0400"),
            (nano, "%TZ", "EDT"),
        ]
        //@f:1
        do { try check(data: data3, lineNumber: ln3, field: "nano") }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatDecimalOrScientific() {
        print("1234 in hex is \"\(String(1234, radix: 8))\".")
    }

    func testFormatScientific() {
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (1234.56789, "%e", "1.23456789e3"),
            (1234.56789, "%E", "1.23456789E3"),
            (1234.56789, "%18e", "      1.23456789e3"),
            (1234.56789, "%18E", "      1.23456789E3"),
            (1234.56789, "%-18e", "1.23456789e3      "),
            (1234.56789, "%-18E", "1.23456789E3      "),
            (1234.56789, "%0.3e", "1.235e3"),
            (1234.56789, "%0.3E", "1.235E3"),
            (1234.56789, "%15.3e", "        1.235e3"),
            (1234.56789, "%15.3E", "        1.235E3"),
            (1234.56789, "%-15.3e", "1.235e3        "),
            (1234.56789, "%-15.3E", "1.235E3        "),
            (1234.56789, "%(e", "1.23456789e3"),
            (1234.56789, "%(E", "1.23456789E3"),
            (1234.56789, "%(18e", "      1.23456789e3"),
            (1234.56789, "%(18E", "      1.23456789E3"),
            (1234.56789, "%(-18e", "1.23456789e3      "),
            (1234.56789, "%(-18E", "1.23456789E3      "),
            (1234.56789, "%(0.3e", "1.235e3"),
            (1234.56789, "%(0.3E", "1.235E3"),
            (1234.56789, "%(15.3e", "        1.235e3"),
            (1234.56789, "%(15.3E", "        1.235E3"),
            (1234.56789, "%(-15.3e", "1.235e3        "),
            (1234.56789, "%(-15.3E", "1.235E3        "),
            (1234.56789, "%+e", "+1.23456789e3"),
            (1234.56789, "%+E", "+1.23456789E3"),
            (1234.56789, "%+18e", "     +1.23456789e3"),
            (1234.56789, "%+18E", "     +1.23456789E3"),
            (1234.56789, "%+-18e", "+1.23456789e3     "),
            (1234.56789, "%+-18E", "+1.23456789E3     "),
            (1234.56789, "%+0.3e", "+1.235e3"),
            (1234.56789, "%+0.3E", "+1.235E3"),
            (1234.56789, "%+15.3e", "       +1.235e3"),
            (1234.56789, "%+15.3E", "       +1.235E3"),
            (1234.56789, "%+-15.3e", "+1.235e3       "),
            (1234.56789, "%+-15.3E", "+1.235E3       "),
            (1234.56789, "%+(e", "+1.23456789e3"),
            (1234.56789, "%+(E", "+1.23456789E3"),
            (1234.56789, "%+(18e", "     +1.23456789e3"),
            (1234.56789, "%+(18E", "     +1.23456789E3"),
            (1234.56789, "%+(-18e", "+1.23456789e3     "),
            (1234.56789, "%+(-18E", "+1.23456789E3     "),
            (1234.56789, "%+(0.3e", "+1.235e3"),
            (1234.56789, "%+(0.3E", "+1.235E3"),
            (1234.56789, "%+(15.3e", "       +1.235e3"),
            (1234.56789, "%+(15.3E", "       +1.235E3"),
            (1234.56789, "%+(-15.3e", "+1.235e3       "),
            (1234.56789, "%+(-15.3E", "+1.235E3       "),
            (1234.56789, "% e", " 1.23456789e3"),
            (1234.56789, "% E", " 1.23456789E3"),
            (1234.56789, "% 18e", "      1.23456789e3"),
            (1234.56789, "% 18E", "      1.23456789E3"),
            (1234.56789, "% -18e", " 1.23456789e3     "),
            (1234.56789, "% -18E", " 1.23456789E3     "),
            (1234.56789, "% 0.3e", " 1.235e3"),
            (1234.56789, "% 0.3E", " 1.235E3"),
            (1234.56789, "% 15.3e", "        1.235e3"),
            (1234.56789, "% 15.3E", "        1.235E3"),
            (1234.56789, "% -15.3e", " 1.235e3       "),
            (1234.56789, "% -15.3E", " 1.235E3       "),
            (1234.56789, "% (e", " 1.23456789e3"),
            (1234.56789, "% (E", " 1.23456789E3"),
            (1234.56789, "% (18e", "      1.23456789e3"),
            (1234.56789, "% (18E", "      1.23456789E3"),
            (1234.56789, "% (-18e", " 1.23456789e3     "),
            (1234.56789, "% (-18E", " 1.23456789E3     "),
            (1234.56789, "% (0.3e", " 1.235e3"),
            (1234.56789, "% (0.3E", " 1.235E3"),
            (1234.56789, "% (15.3e", "        1.235e3"),
            (1234.56789, "% (15.3E", "        1.235E3"),
            (1234.56789, "% (-15.3e", " 1.235e3       "),
            (1234.56789, "% (-15.3E", " 1.235E3       "),
            (1234.56789, "%0e", "1.23456789e3"),
            (1234.56789, "%0E", "1.23456789E3"),
            (1234.56789, "%018e", "0000001.23456789e3"),
            (1234.56789, "%018E", "0000001.23456789E3"),
            (1234.56789, "%0-18e", "0000001.23456789e3"),
            (1234.56789, "%0-18E", "0000001.23456789E3"),
            (1234.56789, "%00.3e", "1.235e3"),
            (1234.56789, "%00.3E", "1.235E3"),
            (1234.56789, "%015.3e", "000000001.235e3"),
            (1234.56789, "%015.3E", "000000001.235E3"),
            (1234.56789, "%0-15.3e", "000000001.235e3"),
            (1234.56789, "%0-15.3E", "000000001.235E3"),
            (1234.56789, "%0(e", "1.23456789e3"),
            (1234.56789, "%0(E", "1.23456789E3"),
            (1234.56789, "%0(18e", "0000001.23456789e3"),
            (1234.56789, "%0(18E", "0000001.23456789E3"),
            (1234.56789, "%0(-18e", "0000001.23456789e3"),
            (1234.56789, "%0(-18E", "0000001.23456789E3"),
            (1234.56789, "%0(0.3e", "1.235e3"),
            (1234.56789, "%0(0.3E", "1.235E3"),
            (1234.56789, "%0(15.3e", "000000001.235e3"),
            (1234.56789, "%0(15.3E", "000000001.235E3"),
            (1234.56789, "%0(-15.3e", "000000001.235e3"),
            (1234.56789, "%0(-15.3E", "000000001.235E3"),
            (1234.56789, "%0+e", "+1.23456789e3"),
            (1234.56789, "%0+E", "+1.23456789E3"),
            (1234.56789, "%0+18e", "+000001.23456789e3"),
            (1234.56789, "%0+18E", "+000001.23456789E3"),
            (1234.56789, "%0+-18e", "+000001.23456789e3"),
            (1234.56789, "%0+-18E", "+000001.23456789E3"),
            (1234.56789, "%0+0.3e", "+1.235e3"),
            (1234.56789, "%0+0.3E", "+1.235E3"),
            (1234.56789, "%0+15.3e", "+00000001.235e3"),
            (1234.56789, "%0+15.3E", "+00000001.235E3"),
            (1234.56789, "%0+-15.3e", "+00000001.235e3"),
            (1234.56789, "%0+-15.3E", "+00000001.235E3"),
            (1234.56789, "%0+(e", "+1.23456789e3"),
            (1234.56789, "%0+(E", "+1.23456789E3"),
            (1234.56789, "%0+(18e", "+000001.23456789e3"),
            (1234.56789, "%0+(18E", "+000001.23456789E3"),
            (1234.56789, "%0+(-18e", "+000001.23456789e3"),
            (1234.56789, "%0+(-18E", "+000001.23456789E3"),
            (1234.56789, "%0+(0.3e", "+1.235e3"),
            (1234.56789, "%0+(0.3E", "+1.235E3"),
            (1234.56789, "%0+(15.3e", "+00000001.235e3"),
            (1234.56789, "%0+(15.3E", "+00000001.235E3"),
            (1234.56789, "%0+(-15.3e", "+00000001.235e3"),
            (1234.56789, "%0+(-15.3E", "+00000001.235E3"),
            (1234.56789, "%0 e", " 1.23456789e3"),
            (1234.56789, "%0 E", " 1.23456789E3"),
            (1234.56789, "%0 18e", " 000001.23456789e3"),
            (1234.56789, "%0 18E", " 000001.23456789E3"),
            (1234.56789, "%0 -18e", " 000001.23456789e3"),
            (1234.56789, "%0 -18E", " 000001.23456789E3"),
            (1234.56789, "%0 0.3e", " 1.235e3"),
            (1234.56789, "%0 0.3E", " 1.235E3"),
            (1234.56789, "%0 15.3e", " 00000001.235e3"),
            (1234.56789, "%0 15.3E", " 00000001.235E3"),
            (1234.56789, "%0 -15.3e", " 00000001.235e3"),
            (1234.56789, "%0 -15.3E", " 00000001.235E3"),
            (1234.56789, "%0 (e", " 1.23456789e3"),
            (1234.56789, "%0 (E", " 1.23456789E3"),
            (1234.56789, "%0 (18e", " 000001.23456789e3"),
            (1234.56789, "%0 (18E", " 000001.23456789E3"),
            (1234.56789, "%0 (-18e", " 000001.23456789e3"),
            (1234.56789, "%0 (-18E", " 000001.23456789E3"),
            (1234.56789, "%0 (0.3e", " 1.235e3"),
            (1234.56789, "%0 (0.3E", " 1.235E3"),
            (1234.56789, "%0 (15.3e", " 00000001.235e3"),
            (1234.56789, "%0 (15.3E", " 00000001.235E3"),
            (1234.56789, "%0 (-15.3e", " 00000001.235e3"),
            (1234.56789, "%0 (-15.3E", " 00000001.235E3"),
            (1234.56789, "%,e", "1.23456789e3"),
            (1234.56789, "%,E", "1.23456789E3"),
            (1234.56789, "%,18e", "      1.23456789e3"),
            (1234.56789, "%,18E", "      1.23456789E3"),
            (1234.56789, "%,-18e", "1.23456789e3      "),
            (1234.56789, "%,-18E", "1.23456789E3      "),
            (1234.56789, "%,0.3e", "1.235e3"),
            (1234.56789, "%,0.3E", "1.235E3"),
            (1234.56789, "%,15.3e", "        1.235e3"),
            (1234.56789, "%,15.3E", "        1.235E3"),
            (1234.56789, "%,-15.3e", "1.235e3        "),
            (1234.56789, "%,-15.3E", "1.235E3        "),
            (1234.56789, "%,(e", "1.23456789e3"),
            (1234.56789, "%,(E", "1.23456789E3"),
            (1234.56789, "%,(18e", "      1.23456789e3"),
            (1234.56789, "%,(18E", "      1.23456789E3"),
            (1234.56789, "%,(-18e", "1.23456789e3      "),
            (1234.56789, "%,(-18E", "1.23456789E3      "),
            (1234.56789, "%,(0.3e", "1.235e3"),
            (1234.56789, "%,(0.3E", "1.235E3"),
            (1234.56789, "%,(15.3e", "        1.235e3"),
            (1234.56789, "%,(15.3E", "        1.235E3"),
            (1234.56789, "%,(-15.3e", "1.235e3        "),
            (1234.56789, "%,(-15.3E", "1.235E3        "),
            (1234.56789, "%,+e", "+1.23456789e3"),
            (1234.56789, "%,+E", "+1.23456789E3"),
            (1234.56789, "%,+18e", "     +1.23456789e3"),
            (1234.56789, "%,+18E", "     +1.23456789E3"),
            (1234.56789, "%,+-18e", "+1.23456789e3     "),
            (1234.56789, "%,+-18E", "+1.23456789E3     "),
            (1234.56789, "%,+0.3e", "+1.235e3"),
            (1234.56789, "%,+0.3E", "+1.235E3"),
            (1234.56789, "%,+15.3e", "       +1.235e3"),
            (1234.56789, "%,+15.3E", "       +1.235E3"),
            (1234.56789, "%,+-15.3e", "+1.235e3       "),
            (1234.56789, "%,+-15.3E", "+1.235E3       "),
            (1234.56789, "%,+(e", "+1.23456789e3"),
            (1234.56789, "%,+(E", "+1.23456789E3"),
            (1234.56789, "%,+(18e", "     +1.23456789e3"),
            (1234.56789, "%,+(18E", "     +1.23456789E3"),
            (1234.56789, "%,+(-18e", "+1.23456789e3     "),
            (1234.56789, "%,+(-18E", "+1.23456789E3     "),
            (1234.56789, "%,+(0.3e", "+1.235e3"),
            (1234.56789, "%,+(0.3E", "+1.235E3"),
            (1234.56789, "%,+(15.3e", "       +1.235e3"),
            (1234.56789, "%,+(15.3E", "       +1.235E3"),
            (1234.56789, "%,+(-15.3e", "+1.235e3       "),
            (1234.56789, "%,+(-15.3E", "+1.235E3       "),
            (1234.56789, "%, e", " 1.23456789e3"),
            (1234.56789, "%, E", " 1.23456789E3"),
            (1234.56789, "%, 18e", "      1.23456789e3"),
            (1234.56789, "%, 18E", "      1.23456789E3"),
            (1234.56789, "%, -18e", " 1.23456789e3     "),
            (1234.56789, "%, -18E", " 1.23456789E3     "),
            (1234.56789, "%, 0.3e", " 1.235e3"),
            (1234.56789, "%, 0.3E", " 1.235E3"),
            (1234.56789, "%, 15.3e", "        1.235e3"),
            (1234.56789, "%, 15.3E", "        1.235E3"),
            (1234.56789, "%, -15.3e", " 1.235e3       "),
            (1234.56789, "%, -15.3E", " 1.235E3       "),
            (1234.56789, "%, (e", " 1.23456789e3"),
            (1234.56789, "%, (E", " 1.23456789E3"),
            (1234.56789, "%, (18e", "      1.23456789e3"),
            (1234.56789, "%, (18E", "      1.23456789E3"),
            (1234.56789, "%, (-18e", " 1.23456789e3     "),
            (1234.56789, "%, (-18E", " 1.23456789E3     "),
            (1234.56789, "%, (0.3e", " 1.235e3"),
            (1234.56789, "%, (0.3E", " 1.235E3"),
            (1234.56789, "%, (15.3e", "        1.235e3"),
            (1234.56789, "%, (15.3E", "        1.235E3"),
            (1234.56789, "%, (-15.3e", " 1.235e3       "),
            (1234.56789, "%, (-15.3E", " 1.235E3       "),
            (1234.56789, "%,0e", "1.23456789e3"),
            (1234.56789, "%,0E", "1.23456789E3"),
            (1234.56789, "%,018e", "0000001.23456789e3"),
            (1234.56789, "%,018E", "0000001.23456789E3"),
            (1234.56789, "%,0-18e", "0000001.23456789e3"),
            (1234.56789, "%,0-18E", "0000001.23456789E3"),
            (1234.56789, "%,00.3e", "1.235e3"),
            (1234.56789, "%,00.3E", "1.235E3"),
            (1234.56789, "%,015.3e", "000000001.235e3"),
            (1234.56789, "%,015.3E", "000000001.235E3"),
            (1234.56789, "%,0-15.3e", "000000001.235e3"),
            (1234.56789, "%,0-15.3E", "000000001.235E3"),
            (1234.56789, "%,0(e", "1.23456789e3"),
            (1234.56789, "%,0(E", "1.23456789E3"),
            (1234.56789, "%,0(18e", "0000001.23456789e3"),
            (1234.56789, "%,0(18E", "0000001.23456789E3"),
            (1234.56789, "%,0(-18e", "0000001.23456789e3"),
            (1234.56789, "%,0(-18E", "0000001.23456789E3"),
            (1234.56789, "%,0(0.3e", "1.235e3"),
            (1234.56789, "%,0(0.3E", "1.235E3"),
            (1234.56789, "%,0(15.3e", "000000001.235e3"),
            (1234.56789, "%,0(15.3E", "000000001.235E3"),
            (1234.56789, "%,0(-15.3e", "000000001.235e3"),
            (1234.56789, "%,0(-15.3E", "000000001.235E3"),
            (1234.56789, "%,0+e", "+1.23456789e3"),
            (1234.56789, "%,0+E", "+1.23456789E3"),
            (1234.56789, "%,0+18e", "+000001.23456789e3"),
            (1234.56789, "%,0+18E", "+000001.23456789E3"),
            (1234.56789, "%,0+-18e", "+000001.23456789e3"),
            (1234.56789, "%,0+-18E", "+000001.23456789E3"),
            (1234.56789, "%,0+0.3e", "+1.235e3"),
            (1234.56789, "%,0+0.3E", "+1.235E3"),
            (1234.56789, "%,0+15.3e", "+00000001.235e3"),
            (1234.56789, "%,0+15.3E", "+00000001.235E3"),
            (1234.56789, "%,0+-15.3e", "+00000001.235e3"),
            (1234.56789, "%,0+-15.3E", "+00000001.235E3"),
            (1234.56789, "%,0+(e", "+1.23456789e3"),
            (1234.56789, "%,0+(E", "+1.23456789E3"),
            (1234.56789, "%,0+(18e", "+000001.23456789e3"),
            (1234.56789, "%,0+(18E", "+000001.23456789E3"),
            (1234.56789, "%,0+(-18e", "+000001.23456789e3"),
            (1234.56789, "%,0+(-18E", "+000001.23456789E3"),
            (1234.56789, "%,0+(0.3e", "+1.235e3"),
            (1234.56789, "%,0+(0.3E", "+1.235E3"),
            (1234.56789, "%,0+(15.3e", "+00000001.235e3"),
            (1234.56789, "%,0+(15.3E", "+00000001.235E3"),
            (1234.56789, "%,0+(-15.3e", "+00000001.235e3"),
            (1234.56789, "%,0+(-15.3E", "+00000001.235E3"),
            (1234.56789, "%,0 e", " 1.23456789e3"),
            (1234.56789, "%,0 E", " 1.23456789E3"),
            (1234.56789, "%,0 18e", " 000001.23456789e3"),
            (1234.56789, "%,0 18E", " 000001.23456789E3"),
            (1234.56789, "%,0 -18e", " 000001.23456789e3"),
            (1234.56789, "%,0 -18E", " 000001.23456789E3"),
            (1234.56789, "%,0 0.3e", " 1.235e3"),
            (1234.56789, "%,0 0.3E", " 1.235E3"),
            (1234.56789, "%,0 15.3e", " 00000001.235e3"),
            (1234.56789, "%,0 15.3E", " 00000001.235E3"),
            (1234.56789, "%,0 -15.3e", " 00000001.235e3"),
            (1234.56789, "%,0 -15.3E", " 00000001.235E3"),
            (1234.56789, "%,0 (e", " 1.23456789e3"),
            (1234.56789, "%,0 (E", " 1.23456789E3"),
            (1234.56789, "%,0 (18e", " 000001.23456789e3"),
            (1234.56789, "%,0 (18E", " 000001.23456789E3"),
            (1234.56789, "%,0 (-18e", " 000001.23456789e3"),
            (1234.56789, "%,0 (-18E", " 000001.23456789E3"),
            (1234.56789, "%,0 (0.3e", " 1.235e3"),
            (1234.56789, "%,0 (0.3E", " 1.235E3"),
            (1234.56789, "%,0 (15.3e", " 00000001.235e3"),
            (1234.56789, "%,0 (15.3E", " 00000001.235E3"),
            (1234.56789, "%,0 (-15.3e", " 00000001.235e3"),
            (1234.56789, "%,0 (-15.3E", " 00000001.235E3"),
            (-1234.56789, "%e", "-1.23456789e3"),
            (-1234.56789, "%E", "-1.23456789E3"),
            (-1234.56789, "%18e", "     -1.23456789e3"),
            (-1234.56789, "%18E", "     -1.23456789E3"),
            (-1234.56789, "%-18e", "-1.23456789e3     "),
            (-1234.56789, "%-18E", "-1.23456789E3     "),
            (-1234.56789, "%0.3e", "-1.235e3"),
            (-1234.56789, "%0.3E", "-1.235E3"),
            (-1234.56789, "%15.3e", "       -1.235e3"),
            (-1234.56789, "%15.3E", "       -1.235E3"),
            (-1234.56789, "%-15.3e", "-1.235e3       "),
            (-1234.56789, "%-15.3E", "-1.235E3       "),
            (-1234.56789, "%(e", "(1.23456789e3)"),
            (-1234.56789, "%(E", "(1.23456789E3)"),
            (-1234.56789, "%(18e", "    (1.23456789e3)"),
            (-1234.56789, "%(18E", "    (1.23456789E3)"),
            (-1234.56789, "%(-18e", "(1.23456789e3)    "),
            (-1234.56789, "%(-18E", "(1.23456789E3)    "),
            (-1234.56789, "%(0.3e", "(1.235e3)"),
            (-1234.56789, "%(0.3E", "(1.235E3)"),
            (-1234.56789, "%(15.3e", "      (1.235e3)"),
            (-1234.56789, "%(15.3E", "      (1.235E3)"),
            (-1234.56789, "%(-15.3e", "(1.235e3)      "),
            (-1234.56789, "%(-15.3E", "(1.235E3)      "),
            (-1234.56789, "%+e", "-1.23456789e3"),
            (-1234.56789, "%+E", "-1.23456789E3"),
            (-1234.56789, "%+18e", "     -1.23456789e3"),
            (-1234.56789, "%+18E", "     -1.23456789E3"),
            (-1234.56789, "%+-18e", "-1.23456789e3     "),
            (-1234.56789, "%+-18E", "-1.23456789E3     "),
            (-1234.56789, "%+0.3e", "-1.235e3"),
            (-1234.56789, "%+0.3E", "-1.235E3"),
            (-1234.56789, "%+15.3e", "       -1.235e3"),
            (-1234.56789, "%+15.3E", "       -1.235E3"),
            (-1234.56789, "%+-15.3e", "-1.235e3       "),
            (-1234.56789, "%+-15.3E", "-1.235E3       "),
            (-1234.56789, "%+(e", "(1.23456789e3)"),
            (-1234.56789, "%+(E", "(1.23456789E3)"),
            (-1234.56789, "%+(18e", "    (1.23456789e3)"),
            (-1234.56789, "%+(18E", "    (1.23456789E3)"),
            (-1234.56789, "%+(-18e", "(1.23456789e3)    "),
            (-1234.56789, "%+(-18E", "(1.23456789E3)    "),
            (-1234.56789, "%+(0.3e", "(1.235e3)"),
            (-1234.56789, "%+(0.3E", "(1.235E3)"),
            (-1234.56789, "%+(15.3e", "      (1.235e3)"),
            (-1234.56789, "%+(15.3E", "      (1.235E3)"),
            (-1234.56789, "%+(-15.3e", "(1.235e3)      "),
            (-1234.56789, "%+(-15.3E", "(1.235E3)      "),
            (-1234.56789, "% e", "-1.23456789e3"),
            (-1234.56789, "% E", "-1.23456789E3"),
            (-1234.56789, "% 18e", "     -1.23456789e3"),
            (-1234.56789, "% 18E", "     -1.23456789E3"),
            (-1234.56789, "% -18e", "-1.23456789e3     "),
            (-1234.56789, "% -18E", "-1.23456789E3     "),
            (-1234.56789, "% 0.3e", "-1.235e3"),
            (-1234.56789, "% 0.3E", "-1.235E3"),
            (-1234.56789, "% 15.3e", "       -1.235e3"),
            (-1234.56789, "% 15.3E", "       -1.235E3"),
            (-1234.56789, "% -15.3e", "-1.235e3       "),
            (-1234.56789, "% -15.3E", "-1.235E3       "),
            (-1234.56789, "% (e", "(1.23456789e3)"),
            (-1234.56789, "% (E", "(1.23456789E3)"),
            (-1234.56789, "% (18e", "    (1.23456789e3)"),
            (-1234.56789, "% (18E", "    (1.23456789E3)"),
            (-1234.56789, "% (-18e", "(1.23456789e3)    "),
            (-1234.56789, "% (-18E", "(1.23456789E3)    "),
            (-1234.56789, "% (0.3e", "(1.235e3)"),
            (-1234.56789, "% (0.3E", "(1.235E3)"),
            (-1234.56789, "% (15.3e", "      (1.235e3)"),
            (-1234.56789, "% (15.3E", "      (1.235E3)"),
            (-1234.56789, "% (-15.3e", "(1.235e3)      "),
            (-1234.56789, "% (-15.3E", "(1.235E3)      "),
            (-1234.56789, "%0e", "-1.23456789e3"),
            (-1234.56789, "%0E", "-1.23456789E3"),
            (-1234.56789, "%018e", "-000001.23456789e3"),
            (-1234.56789, "%018E", "-000001.23456789E3"),
            (-1234.56789, "%0-18e", "-000001.23456789e3"),
            (-1234.56789, "%0-18E", "-000001.23456789E3"),
            (-1234.56789, "%00.3e", "-1.235e3"),
            (-1234.56789, "%00.3E", "-1.235E3"),
            (-1234.56789, "%015.3e", "-00000001.235e3"),
            (-1234.56789, "%015.3E", "-00000001.235E3"),
            (-1234.56789, "%0-15.3e", "-00000001.235e3"),
            (-1234.56789, "%0-15.3E", "-00000001.235E3"),
            (-1234.56789, "%0(e", "(1.23456789e3)"),
            (-1234.56789, "%0(E", "(1.23456789E3)"),
            (-1234.56789, "%0(18e", "(00001.23456789e3)"),
            (-1234.56789, "%0(18E", "(00001.23456789E3)"),
            (-1234.56789, "%0(-18e", "(00001.23456789e3)"),
            (-1234.56789, "%0(-18E", "(00001.23456789E3)"),
            (-1234.56789, "%0(0.3e", "(1.235e3)"),
            (-1234.56789, "%0(0.3E", "(1.235E3)"),
            (-1234.56789, "%0(15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0(15.3E", "(0000001.235E3)"),
            (-1234.56789, "%0(-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0(-15.3E", "(0000001.235E3)"),
            (-1234.56789, "%0+e", "-1.23456789e3"),
            (-1234.56789, "%0+E", "-1.23456789E3"),
            (-1234.56789, "%0+18e", "-000001.23456789e3"),
            (-1234.56789, "%0+18E", "-000001.23456789E3"),
            (-1234.56789, "%0+-18e", "-000001.23456789e3"),
            (-1234.56789, "%0+-18E", "-000001.23456789E3"),
            (-1234.56789, "%0+0.3e", "-1.235e3"),
            (-1234.56789, "%0+0.3E", "-1.235E3"),
            (-1234.56789, "%0+15.3e", "-00000001.235e3"),
            (-1234.56789, "%0+15.3E", "-00000001.235E3"),
            (-1234.56789, "%0+-15.3e", "-00000001.235e3"),
            (-1234.56789, "%0+-15.3E", "-00000001.235E3"),
            (-1234.56789, "%0+(e", "(1.23456789e3)"),
            (-1234.56789, "%0+(E", "(1.23456789E3)"),
            (-1234.56789, "%0+(18e", "(00001.23456789e3)"),
            (-1234.56789, "%0+(18E", "(00001.23456789E3)"),
            (-1234.56789, "%0+(-18e", "(00001.23456789e3)"),
            (-1234.56789, "%0+(-18E", "(00001.23456789E3)"),
            (-1234.56789, "%0+(0.3e", "(1.235e3)"),
            (-1234.56789, "%0+(0.3E", "(1.235E3)"),
            (-1234.56789, "%0+(15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0+(15.3E", "(0000001.235E3)"),
            (-1234.56789, "%0+(-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0+(-15.3E", "(0000001.235E3)"),
            (-1234.56789, "%0 e", "-1.23456789e3"),
            (-1234.56789, "%0 E", "-1.23456789E3"),
            (-1234.56789, "%0 18e", "-000001.23456789e3"),
            (-1234.56789, "%0 18E", "-000001.23456789E3"),
            (-1234.56789, "%0 -18e", "-000001.23456789e3"),
            (-1234.56789, "%0 -18E", "-000001.23456789E3"),
            (-1234.56789, "%0 0.3e", "-1.235e3"),
            (-1234.56789, "%0 0.3E", "-1.235E3"),
            (-1234.56789, "%0 15.3e", "-00000001.235e3"),
            (-1234.56789, "%0 15.3E", "-00000001.235E3"),
            (-1234.56789, "%0 -15.3e", "-00000001.235e3"),
            (-1234.56789, "%0 -15.3E", "-00000001.235E3"),
            (-1234.56789, "%0 (e", "(1.23456789e3)"),
            (-1234.56789, "%0 (E", "(1.23456789E3)"),
            (-1234.56789, "%0 (18e", "(00001.23456789e3)"),
            (-1234.56789, "%0 (18E", "(00001.23456789E3)"),
            (-1234.56789, "%0 (-18e", "(00001.23456789e3)"),
            (-1234.56789, "%0 (-18E", "(00001.23456789E3)"),
            (-1234.56789, "%0 (0.3e", "(1.235e3)"),
            (-1234.56789, "%0 (0.3E", "(1.235E3)"),
            (-1234.56789, "%0 (15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0 (15.3E", "(0000001.235E3)"),
            (-1234.56789, "%0 (-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%0 (-15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,e", "-1.23456789e3"),
            (-1234.56789, "%,E", "-1.23456789E3"),
            (-1234.56789, "%,18e", "     -1.23456789e3"),
            (-1234.56789, "%,18E", "     -1.23456789E3"),
            (-1234.56789, "%,-18e", "-1.23456789e3     "),
            (-1234.56789, "%,-18E", "-1.23456789E3     "),
            (-1234.56789, "%,0.3e", "-1.235e3"),
            (-1234.56789, "%,0.3E", "-1.235E3"),
            (-1234.56789, "%,15.3e", "       -1.235e3"),
            (-1234.56789, "%,15.3E", "       -1.235E3"),
            (-1234.56789, "%,-15.3e", "-1.235e3       "),
            (-1234.56789, "%,-15.3E", "-1.235E3       "),
            (-1234.56789, "%,(e", "(1.23456789e3)"),
            (-1234.56789, "%,(E", "(1.23456789E3)"),
            (-1234.56789, "%,(18e", "    (1.23456789e3)"),
            (-1234.56789, "%,(18E", "    (1.23456789E3)"),
            (-1234.56789, "%,(-18e", "(1.23456789e3)    "),
            (-1234.56789, "%,(-18E", "(1.23456789E3)    "),
            (-1234.56789, "%,(0.3e", "(1.235e3)"),
            (-1234.56789, "%,(0.3E", "(1.235E3)"),
            (-1234.56789, "%,(15.3e", "      (1.235e3)"),
            (-1234.56789, "%,(15.3E", "      (1.235E3)"),
            (-1234.56789, "%,(-15.3e", "(1.235e3)      "),
            (-1234.56789, "%,(-15.3E", "(1.235E3)      "),
            (-1234.56789, "%,+e", "-1.23456789e3"),
            (-1234.56789, "%,+E", "-1.23456789E3"),
            (-1234.56789, "%,+18e", "     -1.23456789e3"),
            (-1234.56789, "%,+18E", "     -1.23456789E3"),
            (-1234.56789, "%,+-18e", "-1.23456789e3     "),
            (-1234.56789, "%,+-18E", "-1.23456789E3     "),
            (-1234.56789, "%,+0.3e", "-1.235e3"),
            (-1234.56789, "%,+0.3E", "-1.235E3"),
            (-1234.56789, "%,+15.3e", "       -1.235e3"),
            (-1234.56789, "%,+15.3E", "       -1.235E3"),
            (-1234.56789, "%,+-15.3e", "-1.235e3       "),
            (-1234.56789, "%,+-15.3E", "-1.235E3       "),
            (-1234.56789, "%,+(e", "(1.23456789e3)"),
            (-1234.56789, "%,+(E", "(1.23456789E3)"),
            (-1234.56789, "%,+(18e", "    (1.23456789e3)"),
            (-1234.56789, "%,+(18E", "    (1.23456789E3)"),
            (-1234.56789, "%,+(-18e", "(1.23456789e3)    "),
            (-1234.56789, "%,+(-18E", "(1.23456789E3)    "),
            (-1234.56789, "%,+(0.3e", "(1.235e3)"),
            (-1234.56789, "%,+(0.3E", "(1.235E3)"),
            (-1234.56789, "%,+(15.3e", "      (1.235e3)"),
            (-1234.56789, "%,+(15.3E", "      (1.235E3)"),
            (-1234.56789, "%,+(-15.3e", "(1.235e3)      "),
            (-1234.56789, "%,+(-15.3E", "(1.235E3)      "),
            (-1234.56789, "%, e", "-1.23456789e3"),
            (-1234.56789, "%, E", "-1.23456789E3"),
            (-1234.56789, "%, 18e", "     -1.23456789e3"),
            (-1234.56789, "%, 18E", "     -1.23456789E3"),
            (-1234.56789, "%, -18e", "-1.23456789e3     "),
            (-1234.56789, "%, -18E", "-1.23456789E3     "),
            (-1234.56789, "%, 0.3e", "-1.235e3"),
            (-1234.56789, "%, 0.3E", "-1.235E3"),
            (-1234.56789, "%, 15.3e", "       -1.235e3"),
            (-1234.56789, "%, 15.3E", "       -1.235E3"),
            (-1234.56789, "%, -15.3e", "-1.235e3       "),
            (-1234.56789, "%, -15.3E", "-1.235E3       "),
            (-1234.56789, "%, (e", "(1.23456789e3)"),
            (-1234.56789, "%, (E", "(1.23456789E3)"),
            (-1234.56789, "%, (18e", "    (1.23456789e3)"),
            (-1234.56789, "%, (18E", "    (1.23456789E3)"),
            (-1234.56789, "%, (-18e", "(1.23456789e3)    "),
            (-1234.56789, "%, (-18E", "(1.23456789E3)    "),
            (-1234.56789, "%, (0.3e", "(1.235e3)"),
            (-1234.56789, "%, (0.3E", "(1.235E3)"),
            (-1234.56789, "%, (15.3e", "      (1.235e3)"),
            (-1234.56789, "%, (15.3E", "      (1.235E3)"),
            (-1234.56789, "%, (-15.3e", "(1.235e3)      "),
            (-1234.56789, "%, (-15.3E", "(1.235E3)      "),
            (-1234.56789, "%,0e", "-1.23456789e3"),
            (-1234.56789, "%,0E", "-1.23456789E3"),
            (-1234.56789, "%,018e", "-000001.23456789e3"),
            (-1234.56789, "%,018E", "-000001.23456789E3"),
            (-1234.56789, "%,0-18e", "-000001.23456789e3"),
            (-1234.56789, "%,0-18E", "-000001.23456789E3"),
            (-1234.56789, "%,00.3e", "-1.235e3"),
            (-1234.56789, "%,00.3E", "-1.235E3"),
            (-1234.56789, "%,015.3e", "-00000001.235e3"),
            (-1234.56789, "%,015.3E", "-00000001.235E3"),
            (-1234.56789, "%,0-15.3e", "-00000001.235e3"),
            (-1234.56789, "%,0-15.3E", "-00000001.235E3"),
            (-1234.56789, "%,0(e", "(1.23456789e3)"),
            (-1234.56789, "%,0(E", "(1.23456789E3)"),
            (-1234.56789, "%,0(18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0(18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0(-18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0(-18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0(0.3e", "(1.235e3)"),
            (-1234.56789, "%,0(0.3E", "(1.235E3)"),
            (-1234.56789, "%,0(15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0(15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,0(-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0(-15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,0+e", "-1.23456789e3"),
            (-1234.56789, "%,0+E", "-1.23456789E3"),
            (-1234.56789, "%,0+18e", "-000001.23456789e3"),
            (-1234.56789, "%,0+18E", "-000001.23456789E3"),
            (-1234.56789, "%,0+-18e", "-000001.23456789e3"),
            (-1234.56789, "%,0+-18E", "-000001.23456789E3"),
            (-1234.56789, "%,0+0.3e", "-1.235e3"),
            (-1234.56789, "%,0+0.3E", "-1.235E3"),
            (-1234.56789, "%,0+15.3e", "-00000001.235e3"),
            (-1234.56789, "%,0+15.3E", "-00000001.235E3"),
            (-1234.56789, "%,0+-15.3e", "-00000001.235e3"),
            (-1234.56789, "%,0+-15.3E", "-00000001.235E3"),
            (-1234.56789, "%,0+(e", "(1.23456789e3)"),
            (-1234.56789, "%,0+(E", "(1.23456789E3)"),
            (-1234.56789, "%,0+(18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0+(18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0+(-18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0+(-18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0+(0.3e", "(1.235e3)"),
            (-1234.56789, "%,0+(0.3E", "(1.235E3)"),
            (-1234.56789, "%,0+(15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0+(15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,0+(-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0+(-15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,0 e", "-1.23456789e3"),
            (-1234.56789, "%,0 E", "-1.23456789E3"),
            (-1234.56789, "%,0 18e", "-000001.23456789e3"),
            (-1234.56789, "%,0 18E", "-000001.23456789E3"),
            (-1234.56789, "%,0 -18e", "-000001.23456789e3"),
            (-1234.56789, "%,0 -18E", "-000001.23456789E3"),
            (-1234.56789, "%,0 0.3e", "-1.235e3"),
            (-1234.56789, "%,0 0.3E", "-1.235E3"),
            (-1234.56789, "%,0 15.3e", "-00000001.235e3"),
            (-1234.56789, "%,0 15.3E", "-00000001.235E3"),
            (-1234.56789, "%,0 -15.3e", "-00000001.235e3"),
            (-1234.56789, "%,0 -15.3E", "-00000001.235E3"),
            (-1234.56789, "%,0 (e", "(1.23456789e3)"),
            (-1234.56789, "%,0 (E", "(1.23456789E3)"),
            (-1234.56789, "%,0 (18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0 (18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0 (-18e", "(00001.23456789e3)"),
            (-1234.56789, "%,0 (-18E", "(00001.23456789E3)"),
            (-1234.56789, "%,0 (0.3e", "(1.235e3)"),
            (-1234.56789, "%,0 (0.3E", "(1.235E3)"),
            (-1234.56789, "%,0 (15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0 (15.3E", "(0000001.235E3)"),
            (-1234.56789, "%,0 (-15.3e", "(0000001.235e3)"),
            (-1234.56789, "%,0 (-15.3E", "(0000001.235E3)"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatHash() {
        let v: Any    = 1234
        let h: String = "%x".format(HashOfAnything(v))
        let H         = h.uppercased()

        print("============================================")
        print("testFormatHash() - \(h)")
        print("                   \(H)")
        print("============================================")
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (v, "%h",     "\(h)"         ),
            (v, "%H",     "\(H)"         ),
            (v, "%#h",    "0x\(h)"       ),
            (v, "%#H",    "0X\(H)"       ),
            (v, "%25h",   "         \(h)"),
            (v, "%25H",   "         \(H)"),
            (v, "%#25h",  "       0x\(h)"),
            (v, "%#25H",  "       0X\(H)"),
            (v, "%-25h",  "\(h)         "),
            (v, "%-25H",  "\(H)         "),
            (v, "%#-25h", "0x\(h)       "),
            (v, "%#-25H", "0X\(H)       "),
            (v, "%025h",  "000000000\(h)"),
            (v, "%025H",  "000000000\(H)"),
            (v, "%#025h", "0x0000000\(h)"),
            (v, "%#025H", "0X0000000\(H)"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatOctal() {
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (1234, "%o", "2322"),
            (1234, "%#o", "02322"),
            (1234, "%8o", "    2322"),
            (1234, "%#8o", "   02322"),
            (1234, "%-8o", "2322    "),
            (1234, "%#-8o", "02322   "),
            (1234, "%08o", "00002322"),
            (1234, "%#08o", "00002322"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatHexadecimal() {
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (1234, "%x", "4d2"),
            (1234, "%X", "4D2"),
            (1234, "%#x", "0x4d2"),
            (1234, "%#X", "0X4D2"),
            (1234, "%8x", "     4d2"),
            (1234, "%8X", "     4D2"),
            (1234, "%#8x", "   0x4d2"),
            (1234, "%#8X", "   0X4D2"),
            (1234, "%-8x", "4d2     "),
            (1234, "%-8X", "4D2     "),
            (1234, "%#-8x", "0x4d2   "),
            (1234, "%#-8X", "0X4D2   "),
            (1234, "%08x", "000004d2"),
            (1234, "%08X", "000004D2"),
            (1234, "%#08x", "0x0004d2"),
            (1234, "%#08X", "0X0004D2"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatFloatingPoint() {
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (1234.567895678956789, "%f", "1234.567895678957"),
            (-1234.567895678956789, "%f", "-1234.567895678957"),
            (1234.567895678956789, "%+f", "+1234.567895678957"),
            (-1234.567895678956789, "%+f", "-1234.567895678957"),
            (1234.567895678956789, "% f", " 1234.567895678957"),
            (-1234.567895678956789, "% f", "-1234.567895678957"),
            (1234.567895678956789, "%(,f", "1,234.567895678957"),
            (-1234.567895678956789, "%(,f", "(1,234.567895678957)"),
            (1234.567895678956789, "% (,f", " 1,234.567895678957"),
            (-1234.567895678956789, "% (,f", "(1,234.567895678957)"),
            (1234.567895678956789, "%+(,f", "+1,234.567895678957"),
            (-1234.567895678956789, "%+(,f", "(1,234.567895678957)"),
            (1234.567895678956789, "%10f", "1234.567895678957"),
            (-1234.567895678956789, "%10f", "-1234.567895678957"),
            (1234.567895678956789, "% 10f", " 1234.567895678957"),
            (-1234.567895678956789, "% 10f", "-1234.567895678957"),
            (1234.567895678956789, "%+10f", "+1234.567895678957"),
            (-1234.567895678956789, "%+10f", "-1234.567895678957"),
            (1234.567895678956789, "%-10f", "1234.567895678957"),
            (-1234.567895678956789, "%-10f", "-1234.567895678957"),
            (1234.567895678956789, "%- 10f", " 1234.567895678957"),
            (-1234.567895678956789, "%- 10f", "-1234.567895678957"),
            (1234.567895678956789, "%-+10f", "+1234.567895678957"),
            (-1234.567895678956789, "%-+10f", "-1234.567895678957"),
            (1234.567895678956789, "%(10f", "1234.567895678957"),
            (-1234.567895678956789, "%(10f", "(1234.567895678957)"),
            (1234.567895678956789, "% (10f", " 1234.567895678957"),
            (-1234.567895678956789, "% (10f", "(1234.567895678957)"),
            (1234.567895678956789, "%+(10f", "+1234.567895678957"),
            (-1234.567895678956789, "%+(10f", "(1234.567895678957)"),
            (1234.567895678956789, "%-(10f", "1234.567895678957"),
            (-1234.567895678956789, "%-(10f", "(1234.567895678957)"),
            (1234.567895678956789, "%- (10f", " 1234.567895678957"),
            (-1234.567895678956789, "%- (10f", "(1234.567895678957)"),
            (1234.567895678956789, "%-+(10f", "+1234.567895678957"),
            (-1234.567895678956789, "%-+(10f", "(1234.567895678957)"),
            (1234.567895678956789, "%010f", "1234.567895678957"),
            (-1234.567895678956789, "%010f", "-1234.567895678957"),
            (1234.567895678956789, "% 010f", " 1234.567895678957"),
            (-1234.567895678956789, "% 010f", "-1234.567895678957"),
            (1234.567895678956789, "%+010f", "+1234.567895678957"),
            (-1234.567895678956789, "%+010f", "-1234.567895678957"),
            (1234.567895678956789, "%-010f", "1234.567895678957"),
            (-1234.567895678956789, "%-010f", "-1234.567895678957"),
            (1234.567895678956789, "%- 010f", " 1234.567895678957"),
            (-1234.567895678956789, "%- 010f", "-1234.567895678957"),
            (1234.567895678956789, "%-+010f", "+1234.567895678957"),
            (-1234.567895678956789, "%-+010f", "-1234.567895678957"),
            (1234.567895678956789, "%(010f", "1234.567895678957"),
            (-1234.567895678956789, "%(010f", "(1234.567895678957)"),
            (1234.567895678956789, "% (010f", " 1234.567895678957"),
            (-1234.567895678956789, "% (010f", "(1234.567895678957)"),
            (1234.567895678956789, "%+(010f", "+1234.567895678957"),
            (-1234.567895678956789, "%+(010f", "(1234.567895678957)"),
            (1234.567895678956789, "%-(010f", "1234.567895678957"),
            (-1234.567895678956789, "%-(010f", "(1234.567895678957)"),
            (1234.567895678956789, "%- (010f", " 1234.567895678957"),
            (-1234.567895678956789, "%- (010f", "(1234.567895678957)"),
            (1234.567895678956789, "%-+(010f", "+1234.567895678957"),
            (-1234.567895678956789, "%-+(010f", "(1234.567895678957)"),
            (1234.567895678956789, "%,10f", "1,234.567895678957"),
            (-1234.567895678956789, "%,10f", "-1,234.567895678957"),
            (1234.567895678956789, "% ,10f", " 1,234.567895678957"),
            (-1234.567895678956789, "% ,10f", "-1,234.567895678957"),
            (1234.567895678956789, "%+,10f", "+1,234.567895678957"),
            (-1234.567895678956789, "%+,10f", "-1,234.567895678957"),
            (1234.567895678956789, "%-,10f", "1,234.567895678957"),
            (-1234.567895678956789, "%-,10f", "-1,234.567895678957"),
            (1234.567895678956789, "%- ,10f", " 1,234.567895678957"),
            (-1234.567895678956789, "%- ,10f", "-1,234.567895678957"),
            (1234.567895678956789, "%-+,10f", "+1,234.567895678957"),
            (-1234.567895678956789, "%-+,10f", "-1,234.567895678957"),
            (1234.567895678956789, "%(,10f", "1,234.567895678957"),
            (-1234.567895678956789, "%(,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "% (,10f", " 1,234.567895678957"),
            (-1234.567895678956789, "% (,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "%+(,10f", "+1,234.567895678957"),
            (-1234.567895678956789, "%+(,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "%-(,10f", "1,234.567895678957"),
            (-1234.567895678956789, "%-(,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "%- (,10f", " 1,234.567895678957"),
            (-1234.567895678956789, "%- (,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "%-+(,10f", "+1,234.567895678957"),
            (-1234.567895678956789, "%-+(,10f", "(1,234.567895678957)"),
            (1234.567895678956789, "%,010f", "1,234.567895678957"),
            (-1234.567895678956789, "%,010f", "-1,234.567895678957"),
            (1234.567895678956789, "% ,010f", " 1,234.567895678957"),
            (-1234.567895678956789, "% ,010f", "-1,234.567895678957"),
            (1234.567895678956789, "%+,010f", "+1,234.567895678957"),
            (-1234.567895678956789, "%+,010f", "-1,234.567895678957"),
            (1234.567895678956789, "%-,010f", "1,234.567895678957"),
            (-1234.567895678956789, "%-,010f", "-1,234.567895678957"),
            (1234.567895678956789, "%- ,010f", " 1,234.567895678957"),
            (-1234.567895678956789, "%- ,010f", "-1,234.567895678957"),
            (1234.567895678956789, "%-+,010f", "+1,234.567895678957"),
            (-1234.567895678956789, "%-+,010f", "-1,234.567895678957"),
            (1234.567895678956789, "%(,010f", "1,234.567895678957"),
            (-1234.567895678956789, "%(,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "% (,010f", " 1,234.567895678957"),
            (-1234.567895678956789, "% (,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "%+(,010f", "+1,234.567895678957"),
            (-1234.567895678956789, "%+(,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "%-(,010f", "1,234.567895678957"),
            (-1234.567895678956789, "%-(,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "%- (,010f", " 1,234.567895678957"),
            (-1234.567895678956789, "%- (,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "%-+(,010f", "+1,234.567895678957"),
            (-1234.567895678956789, "%-+(,010f", "(1,234.567895678957)"),
            (1234.567895678956789, "%10.3f", "  1234.568"),
            (-1234.567895678956789, "%10.3f", " -1234.568"),
            (1234.567895678956789, "% 10.3f", "  1234.568"),
            (-1234.567895678956789, "% 10.3f", " -1234.568"),
            (1234.567895678956789, "%+10.3f", " +1234.568"),
            (-1234.567895678956789, "%+10.3f", " -1234.568"),
            (1234.567895678956789, "%-10.3f", "1234.568  "),
            (-1234.567895678956789, "%-10.3f", "-1234.568 "),
            (1234.567895678956789, "%- 10.3f", " 1234.568 "),
            (-1234.567895678956789, "%- 10.3f", "-1234.568 "),
            (1234.567895678956789, "%-+10.3f", "+1234.568 "),
            (-1234.567895678956789, "%-+10.3f", "-1234.568 "),
            (1234.567895678956789, "%(10.3f", "  1234.568"),
            (-1234.567895678956789, "%(10.3f", "(1234.568)"),
            (1234.567895678956789, "% (10.3f", "  1234.568"),
            (-1234.567895678956789, "% (10.3f", "(1234.568)"),
            (1234.567895678956789, "%+(10.3f", " +1234.568"),
            (-1234.567895678956789, "%+(10.3f", "(1234.568)"),
            (1234.567895678956789, "%-(10.3f", "1234.568  "),
            (-1234.567895678956789, "%-(10.3f", "(1234.568)"),
            (1234.567895678956789, "%- (10.3f", " 1234.568 "),
            (-1234.567895678956789, "%- (10.3f", "(1234.568)"),
            (1234.567895678956789, "%-+(10.3f", "+1234.568 "),
            (-1234.567895678956789, "%-+(10.3f", "(1234.568)"),
            (1234.567895678956789, "%010.3f", "001234.568"),
            (-1234.567895678956789, "%010.3f", "-01234.568"),
            (1234.567895678956789, "% 010.3f", " 01234.568"),
            (-1234.567895678956789, "% 010.3f", "-01234.568"),
            (1234.567895678956789, "%+010.3f", "+01234.568"),
            (-1234.567895678956789, "%+010.3f", "-01234.568"),
            (1234.567895678956789, "%-010.3f", "001234.568"),
            (-1234.567895678956789, "%-010.3f", "-01234.568"),
            (1234.567895678956789, "%- 010.3f", " 01234.568"),
            (-1234.567895678956789, "%- 010.3f", "-01234.568"),
            (1234.567895678956789, "%-+010.3f", "+01234.568"),
            (-1234.567895678956789, "%-+010.3f", "-01234.568"),
            (1234.567895678956789, "%(010.3f", "001234.568"),
            (-1234.567895678956789, "%(010.3f", "(1234.568)"),
            (1234.567895678956789, "% (010.3f", " 01234.568"),
            (-1234.567895678956789, "% (010.3f", "(1234.568)"),
            (1234.567895678956789, "%+(010.3f", "+01234.568"),
            (-1234.567895678956789, "%+(010.3f", "(1234.568)"),
            (1234.567895678956789, "%-(010.3f", "001234.568"),
            (-1234.567895678956789, "%-(010.3f", "(1234.568)"),
            (1234.567895678956789, "%- (010.3f", " 01234.568"),
            (-1234.567895678956789, "%- (010.3f", "(1234.568)"),
            (1234.567895678956789, "%-+(010.3f", "+01234.568"),
            (-1234.567895678956789, "%-+(010.3f", "(1234.568)"),
            (1234.567895678956789, "%,10.3f", " 1,234.568"),
            (-1234.567895678956789, "%,10.3f", "-1,234.568"),
            (1234.567895678956789, "% ,10.3f", " 1,234.568"),
            (-1234.567895678956789, "% ,10.3f", "-1,234.568"),
            (1234.567895678956789, "%+,10.3f", "+1,234.568"),
            (-1234.567895678956789, "%+,10.3f", "-1,234.568"),
            (1234.567895678956789, "%-,10.3f", "1,234.568 "),
            (-1234.567895678956789, "%-,10.3f", "-1,234.568"),
            (1234.567895678956789, "%- ,10.3f", " 1,234.568"),
            (-1234.567895678956789, "%- ,10.3f", "-1,234.568"),
            (1234.567895678956789, "%-+,10.3f", "+1,234.568"),
            (-1234.567895678956789, "%-+,10.3f", "-1,234.568"),
            (1234.567895678956789, "%(,10.3f", " 1,234.568"),
            (-1234.567895678956789, "%(,10.3f", "(1,234.568)"),
            (1234.567895678956789, "% (,10.3f", " 1,234.568"),
            (-1234.567895678956789, "% (,10.3f", "(1,234.568)"),
            (1234.567895678956789, "%+(,10.3f", "+1,234.568"),
            (-1234.567895678956789, "%+(,10.3f", "(1,234.568)"),
            (1234.567895678956789, "%-(,10.3f", "1,234.568 "),
            (-1234.567895678956789, "%-(,10.3f", "(1,234.568)"),
            (1234.567895678956789, "%- (,10.3f", " 1,234.568"),
            (-1234.567895678956789, "%- (,10.3f", "(1,234.568)"),
            (1234.567895678956789, "%-+(,10.3f", "+1,234.568"),
            (-1234.567895678956789, "%-+(,10.3f", "(1,234.568)"),
            (1234.567895678956789, "%,010.3f", "01,234.568"),
            (-1234.567895678956789, "%,010.3f", "-1,234.568"),
            (1234.567895678956789, "% ,010.3f", " 1,234.568"),
            (-1234.567895678956789, "% ,010.3f", "-1,234.568"),
            (1234.567895678956789, "%+,010.3f", "+1,234.568"),
            (-1234.567895678956789, "%+,010.3f", "-1,234.568"),
            (1234.567895678956789, "%-,010.3f", "01,234.568"),
            (-1234.567895678956789, "%-,010.3f", "-1,234.568"),
            (1234.567895678956789, "%- ,010.3f", " 1,234.568"),
            (-1234.567895678956789, "%- ,010.3f", "-1,234.568"),
            (1234.567895678956789, "%-+,010.3f", "+1,234.568"),
            (-1234.567895678956789, "%-+,010.3f", "-1,234.568"),
            (1234.567895678956789, "%(,010.3f", "01,234.568"),
            (-1234.567895678956789, "%(,010.3f", "(1,234.568)"),
            (1234.567895678956789, "% (,010.3f", " 1,234.568"),
            (-1234.567895678956789, "% (,010.3f", "(1,234.568)"),
            (1234.567895678956789, "%+(,010.3f", "+1,234.568"),
            (-1234.567895678956789, "%+(,010.3f", "(1,234.568)"),
            (1234.567895678956789, "%-(,010.3f", "01,234.568"),
            (-1234.567895678956789, "%-(,010.3f", "(1,234.568)"),
            (1234.567895678956789, "%- (,010.3f", " 1,234.568"),
            (-1234.567895678956789, "%- (,010.3f", "(1,234.568)"),
            (1234.567895678956789, "%-+(,010.3f", "+1,234.568"),
            (-1234.567895678956789, "%-+(,010.3f", "(1,234.568)"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }

    func testFormatInteger() {
        //@f:0
        let ln: Int = (#line + 2)
        let data: [DataTuple] = [
            (1234, "%d", "1234"),
            (-1234, "%d", "-1234"),
            (1234, "%+d", "+1234"),
            (-1234, "%+d", "-1234"),
            (1234, "% d", " 1234"),
            (-1234, "% d", "-1234"),
            (1234, "%(,d", "1,234"),
            (-1234, "%(,d", "(1,234)"),
            (1234, "% (,d", " 1,234"),
            (-1234, "% (,d", "(1,234)"),
            (1234, "%+(,d", "+1,234"),
            (-1234, "%+(,d", "(1,234)"),
            (1234, "%10d", "      1234"),
            (-1234, "%10d", "     -1234"),
            (1234, "% 10d", "      1234"),
            (-1234, "% 10d", "     -1234"),
            (1234, "%+10d", "     +1234"),
            (-1234, "%+10d", "     -1234"),
            (1234, "%-10d", "1234      "),
            (-1234, "%-10d", "-1234     "),
            (1234, "%- 10d", " 1234     "),
            (-1234, "%- 10d", "-1234     "),
            (1234, "%-+10d", "+1234     "),
            (-1234, "%-+10d", "-1234     "),
            (1234, "%(10d", "      1234"),
            (-1234, "%(10d", "    (1234)"),
            (1234, "% (10d", "      1234"),
            (-1234, "% (10d", "    (1234)"),
            (1234, "%+(10d", "     +1234"),
            (-1234, "%+(10d", "    (1234)"),
            (1234, "%-(10d", "1234      "),
            (-1234, "%-(10d", "(1234)    "),
            (1234, "%- (10d", " 1234     "),
            (-1234, "%- (10d", "(1234)    "),
            (1234, "%-+(10d", "+1234     "),
            (-1234, "%-+(10d", "(1234)    "),
            (1234, "%010d", "0000001234"),
            (-1234, "%010d", "-000001234"),
            (1234, "% 010d", " 000001234"),
            (-1234, "% 010d", "-000001234"),
            (1234, "%+010d", "+000001234"),
            (-1234, "%+010d", "-000001234"),
            (1234, "%-010d", "0000001234"),
            (-1234, "%-010d", "-000001234"),
            (1234, "%- 010d", " 000001234"),
            (-1234, "%- 010d", "-000001234"),
            (1234, "%-+010d", "+000001234"),
            (-1234, "%-+010d", "-000001234"),
            (1234, "%(010d", "0000001234"),
            (-1234, "%(010d", "(00001234)"),
            (1234, "% (010d", " 000001234"),
            (-1234, "% (010d", "(00001234)"),
            (1234, "%+(010d", "+000001234"),
            (-1234, "%+(010d", "(00001234)"),
            (1234, "%-(010d", "0000001234"),
            (-1234, "%-(010d", "(00001234)"),
            (1234, "%- (010d", " 000001234"),
            (-1234, "%- (010d", "(00001234)"),
            (1234, "%-+(010d", "+000001234"),
            (-1234, "%-+(010d", "(00001234)"),
            (1234, "%,10d", "     1,234"),
            (-1234, "%,10d", "    -1,234"),
            (1234, "% ,10d", "     1,234"),
            (-1234, "% ,10d", "    -1,234"),
            (1234, "%+,10d", "    +1,234"),
            (-1234, "%+,10d", "    -1,234"),
            (1234, "%-,10d", "1,234     "),
            (-1234, "%-,10d", "-1,234    "),
            (1234, "%- ,10d", " 1,234    "),
            (-1234, "%- ,10d", "-1,234    "),
            (1234, "%-+,10d", "+1,234    "),
            (-1234, "%-+,10d", "-1,234    "),
            (1234, "%(,10d", "     1,234"),
            (-1234, "%(,10d", "   (1,234)"),
            (1234, "% (,10d", "     1,234"),
            (-1234, "% (,10d", "   (1,234)"),
            (1234, "%+(,10d", "    +1,234"),
            (-1234, "%+(,10d", "   (1,234)"),
            (1234, "%-(,10d", "1,234     "),
            (-1234, "%-(,10d", "(1,234)   "),
            (1234, "%- (,10d", " 1,234    "),
            (-1234, "%- (,10d", "(1,234)   "),
            (1234, "%-+(,10d", "+1,234    "),
            (-1234, "%-+(,10d", "(1,234)   "),
            (1234, "%,010d", "000001,234"),
            (-1234, "%,010d", "-00001,234"),
            (1234, "% ,010d", " 00001,234"),
            (-1234, "% ,010d", "-00001,234"),
            (1234, "%+,010d", "+00001,234"),
            (-1234, "%+,010d", "-00001,234"),
            (1234, "%-,010d", "000001,234"),
            (-1234, "%-,010d", "-00001,234"),
            (1234, "%- ,010d", " 00001,234"),
            (-1234, "%- ,010d", "-00001,234"),
            (1234, "%-+,010d", "+00001,234"),
            (-1234, "%-+,010d", "-00001,234"),
            (1234, "%(,010d", "000001,234"),
            (-1234, "%(,010d", "(0001,234)"),
            (1234, "% (,010d", " 00001,234"),
            (-1234, "% (,010d", "(0001,234)"),
            (1234, "%+(,010d", "+00001,234"),
            (-1234, "%+(,010d", "(0001,234)"),
            (1234, "%-(,010d", "000001,234"),
            (-1234, "%-(,010d", "(0001,234)"),
            (1234, "%- (,010d", " 00001,234"),
            (-1234, "%- (,010d", "(0001,234)"),
            (1234, "%-+(,010d", "+00001,234"),
            (-1234, "%-+(,010d", "(0001,234)"),
            (1234.56789, "%d", "1234"),
            (-1234.56789, "%d", "-1234"),
            (1234.56789, "%+d", "+1234"),
            (-1234.56789, "%+d", "-1234"),
            (1234.56789, "% d", " 1234"),
            (-1234.56789, "% d", "-1234"),
            (1234.56789, "%(,d", "1,234"),
            (-1234.56789, "%(,d", "(1,234)"),
            (1234.56789, "% (,d", " 1,234"),
            (-1234.56789, "% (,d", "(1,234)"),
            (1234.56789, "%+(,d", "+1,234"),
            (-1234.56789, "%+(,d", "(1,234)"),
            (1234.56789, "%10d", "      1234"),
            (-1234.56789, "%10d", "     -1234"),
            (1234.56789, "% 10d", "      1234"),
            (-1234.56789, "% 10d", "     -1234"),
            (1234.56789, "%+10d", "     +1234"),
            (-1234.56789, "%+10d", "     -1234"),
            (1234.56789, "%-10d", "1234      "),
            (-1234.56789, "%-10d", "-1234     "),
            (1234.56789, "%- 10d", " 1234     "),
            (-1234.56789, "%- 10d", "-1234     "),
            (1234.56789, "%-+10d", "+1234     "),
            (-1234.56789, "%-+10d", "-1234     "),
            (1234.56789, "%(10d", "      1234"),
            (-1234.56789, "%(10d", "    (1234)"),
            (1234.56789, "% (10d", "      1234"),
            (-1234.56789, "% (10d", "    (1234)"),
            (1234.56789, "%+(10d", "     +1234"),
            (-1234.56789, "%+(10d", "    (1234)"),
            (1234.56789, "%-(10d", "1234      "),
            (-1234.56789, "%-(10d", "(1234)    "),
            (1234.56789, "%- (10d", " 1234     "),
            (-1234.56789, "%- (10d", "(1234)    "),
            (1234.56789, "%-+(10d", "+1234     "),
            (-1234.56789, "%-+(10d", "(1234)    "),
            (1234.56789, "%010d", "0000001234"),
            (-1234.56789, "%010d", "-000001234"),
            (1234.56789, "% 010d", " 000001234"),
            (-1234.56789, "% 010d", "-000001234"),
            (1234.56789, "%+010d", "+000001234"),
            (-1234.56789, "%+010d", "-000001234"),
            (1234.56789, "%-010d", "0000001234"),
            (-1234.56789, "%-010d", "-000001234"),
            (1234.56789, "%- 010d", " 000001234"),
            (-1234.56789, "%- 010d", "-000001234"),
            (1234.56789, "%-+010d", "+000001234"),
            (-1234.56789, "%-+010d", "-000001234"),
            (1234.56789, "%(010d", "0000001234"),
            (-1234.56789, "%(010d", "(00001234)"),
            (1234.56789, "% (010d", " 000001234"),
            (-1234.56789, "% (010d", "(00001234)"),
            (1234.56789, "%+(010d", "+000001234"),
            (-1234.56789, "%+(010d", "(00001234)"),
            (1234.56789, "%-(010d", "0000001234"),
            (-1234.56789, "%-(010d", "(00001234)"),
            (1234.56789, "%- (010d", " 000001234"),
            (-1234.56789, "%- (010d", "(00001234)"),
            (1234.56789, "%-+(010d", "+000001234"),
            (-1234.56789, "%-+(010d", "(00001234)"),
            (1234.56789, "%,10d", "     1,234"),
            (-1234.56789, "%,10d", "    -1,234"),
            (1234.56789, "% ,10d", "     1,234"),
            (-1234.56789, "% ,10d", "    -1,234"),
            (1234.56789, "%+,10d", "    +1,234"),
            (-1234.56789, "%+,10d", "    -1,234"),
            (1234.56789, "%-,10d", "1,234     "),
            (-1234.56789, "%-,10d", "-1,234    "),
            (1234.56789, "%- ,10d", " 1,234    "),
            (-1234.56789, "%- ,10d", "-1,234    "),
            (1234.56789, "%-+,10d", "+1,234    "),
            (-1234.56789, "%-+,10d", "-1,234    "),
            (1234.56789, "%(,10d", "     1,234"),
            (-1234.56789, "%(,10d", "   (1,234)"),
            (1234.56789, "% (,10d", "     1,234"),
            (-1234.56789, "% (,10d", "   (1,234)"),
            (1234.56789, "%+(,10d", "    +1,234"),
            (-1234.56789, "%+(,10d", "   (1,234)"),
            (1234.56789, "%-(,10d", "1,234     "),
            (-1234.56789, "%-(,10d", "(1,234)   "),
            (1234.56789, "%- (,10d", " 1,234    "),
            (-1234.56789, "%- (,10d", "(1,234)   "),
            (1234.56789, "%-+(,10d", "+1,234    "),
            (-1234.56789, "%-+(,10d", "(1,234)   "),
            (1234.56789, "%,010d", "000001,234"),
            (-1234.56789, "%,010d", "-00001,234"),
            (1234.56789, "% ,010d", " 00001,234"),
            (-1234.56789, "% ,010d", "-00001,234"),
            (1234.56789, "%+,010d", "+00001,234"),
            (-1234.56789, "%+,010d", "-00001,234"),
            (1234.56789, "%-,010d", "000001,234"),
            (-1234.56789, "%-,010d", "-00001,234"),
            (1234.56789, "%- ,010d", " 00001,234"),
            (-1234.56789, "%- ,010d", "-00001,234"),
            (1234.56789, "%-+,010d", "+00001,234"),
            (-1234.56789, "%-+,010d", "-00001,234"),
            (1234.56789, "%(,010d", "000001,234"),
            (-1234.56789, "%(,010d", "(0001,234)"),
            (1234.56789, "% (,010d", " 00001,234"),
            (-1234.56789, "% (,010d", "(0001,234)"),
            (1234.56789, "%+(,010d", "+00001,234"),
            (-1234.56789, "%+(,010d", "(0001,234)"),
            (1234.56789, "%-(,010d", "000001,234"),
            (-1234.56789, "%-(,010d", "(0001,234)"),
            (1234.56789, "%- (,010d", " 00001,234"),
            (-1234.56789, "%- (,010d", "(0001,234)"),
            (1234.56789, "%-+(,010d", "+00001,234"),
            (-1234.56789, "%-+(,010d", "(0001,234)"),
        ]
        //@f:1
        do { try check(data: data, lineNumber: ln) }
        catch let TestError.ItemFailed(description: reason) { XCTFail(reason) }
        catch let e { XCTFail("\(e)") }
    }
}
